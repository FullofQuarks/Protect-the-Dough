---
kind: pipeline
name: default

steps:
- name: install
  image: node:12
  commands:
  - cd $${PREFIX} && npm install
  environment:
    PREFIX: ./Frontend/ProtectTheDough.Web/ClientApp
  
- name: linting
  image: node:12
  commands:
  - cd $${PREFIX}
  - npm run lint
  environment:
    PREFIX: ./Frontend/ProtectTheDough.Web/ClientApp
  
- name: build
  image: node:12
  commands:
  - cd $${PREFIX}
  - npm --prefix /usr install -g @angular/cli
  - ng --version
  - node -v
  - npm -v
  - npm run build-prod 
  environment:
    PREFIX: ./Frontend/ProtectTheDough.Web/ClientApp
  
trigger:
  branch:
  - master
  event:
    include:
    - push
    - pull_request
---
kind: signature
hmac: 29316b7f712cfec5e6b4eff4832b3e973123e0469d5e6264306dc70f4e6c8919

...
